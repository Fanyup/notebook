.ipynb数据分析经常会使用格式

`Shift+Enter`运行代码

代码能够分块运行

jupyter启动cmd：jupyter notebook回车

关闭：命令行ctrl+C终止

# 一、采集数据

[实时更新：新冠肺炎疫情最新动态](https://news.qq.com/zt2020/page/feiyan.htm#/)

https://view.inews.qq.com/g2/getOnsInfo?name=disease_foreign&callback=jQuery351010582522797497518_1665555982327&_=1665555982328

get请求；需要人数实施可更新，哪一块是？

# 二、数据可视化

三大解析工具

1. 正则

2. xpath

3. bs4
   
   2.3适合解析网页源代码

这里我们用最常见的键值对来提取

json.loads(html.json())

转换成字典的数据格式

```python
html = requests.get(url)
data = json.loads(html.json()['data'])
foreign_data = data['foreignList'][0][]

data_set = []

for i in foreign_data:
    data_dict = {}
    #地区名称
    data_dict['place'] = i['name']
    # 新增确诊
    data_dict['nowConfirm'] = i['total']['nowConfirm']
    data_dict['confirm'] = i['total']['confirm']
    data_dict['dead'] = i['total']['dead']
    data_dict['heal'] = i['total']['heal']
    data_dict['deadRate'] = i['total']['healRate']
    data_dict['healRate'] = i['total']['healRate']
    data_set.append(data_dict)
```

```python
data_set = []

for i in foreign_data:
    data_dict = {}
    #地区名称
    data_dict['nameMap'] = i['name']
    # 新增确诊
    data_dict['nowConfirm'] = i['total']['nowConfirm']
    data_dict['confirm'] = i['total']['confirm']
    data_dict['dead'] = i['total']['dead']
    data_dict['heal'] = i['total']['heal']
    data_dict['deadRate'] = i['total']['healRate']
    data_dict['healRate'] = i['total']['healRate']
    data_set.append(data_dict)
```

可通行版：

```python
html = requests.get(url)
data = json.loads(html.json()['data'])
foreign_data = data['foreignList'][0]['children']


data_set = []

for i in foreign_data:
    data_dict = {}
    #地区名称
    data_dict['nameMap'] = i['name']
    # 新增确诊
    data_dict['confirmAdd'] = i['confirmAdd']
    data_dict['confirm'] = i['confirm']
    data_dict['dead'] = i['dead']
    data_dict['heal'] = i['heal']
    data_set.append(data_dict)
```

## 完整代码复写

遇到一个问题，=中文乱码问题

装apache源代码
